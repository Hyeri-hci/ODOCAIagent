# Security Analysis Agent v0.1 ê°œë°œ ë¬¸ì„œ

## ğŸ“‹ ëª©ì°¨

1. [ë¹ ë¥¸ ì‹œì‘ (Quick Start)](#1-ë¹ ë¥¸-ì‹œì‘-quick-start)
2. [ê°œìš”](#2-ê°œìš”)
3. [ì „ì²´ ì•„í‚¤í…ì²˜](#3-ì „ì²´-ì•„í‚¤í…ì²˜)
4. [State ì •ì˜](#4-state-ì •ì˜)
5. [íˆ´ (Tools) ìƒì„¸](#5-íˆ´-tools-ìƒì„¸)
6. [ë…¸ë“œ (Nodes) ìƒì„¸](#6-ë…¸ë“œ-nodes-ìƒì„¸)
7. [ê·¸ë˜í”„ êµ¬ì¡°](#7-ê·¸ë˜í”„-êµ¬ì¡°)
8. [ì‹¤í–‰ íë¦„](#8-ì‹¤í–‰-íë¦„)
9. [ì‚¬ìš© ë°©ë²•](#9-ì‚¬ìš©-ë°©ë²•)
10. [ë‹¤ìŒ ë‹¨ê³„](#10-ë‹¤ìŒ-ë‹¨ê³„)

---

## 1. ë¹ ë¥¸ ì‹œì‘ (Quick Start)

### 1.1 ê¸°ë³¸ ì‚¬ìš©ë²•

Security Analysis Agentë¥¼ ì‚¬ìš©í•˜ì—¬ GitHub ë ˆí¬ì§€í† ë¦¬ì˜ ë³´ì•ˆì„ ë¶„ì„í•˜ëŠ” ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•ì…ë‹ˆë‹¤.

#### 1.1.1 ì„¤ì¹˜

```bash
# ì‘ì—… ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd C:\Users\22138153\git\kakaoAgent\backend

# í•„ìš”í•œ íŒ¨í‚¤ì§€ê°€ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
pip install langchain langgraph requests
```

#### 1.1.2 ê¸°ë³¸ ì‚¬ìš© ì˜ˆì‹œ

```python
from agents.security.agent import SecurityAnalysisAgent

# 1. ì—ì´ì „íŠ¸ ìƒì„±
agent = SecurityAnalysisAgent(
    github_token=None,      # GitHub í† í° (ì„ íƒì‚¬í•­, public repoëŠ” ë¶ˆí•„ìš”)
    max_iterations=10,      # ìµœëŒ€ ë°˜ë³µ íšŸìˆ˜
    verbose=True            # ì§„í–‰ ìƒí™© ì¶œë ¥
)

# 2. ë ˆí¬ì§€í† ë¦¬ ë¶„ì„ ì‹¤í–‰
result = agent.analyze(
    owner="facebook",       # ë ˆí¬ì§€í† ë¦¬ ì†Œìœ ì
    repository="react"      # ë ˆí¬ì§€í† ë¦¬ ì´ë¦„
)

# 3. ê²°ê³¼ í™•ì¸
if result["success"]:
    print(f"âœ… ë¶„ì„ ì™„ë£Œ!")
    print(f"ğŸ“Š ë³´ì•ˆ ë“±ê¸‰: {result['security_grade']}")
    print(f"ğŸ“¦ ì˜ì¡´ì„± ê°œìˆ˜: {result['dependency_count']}")
    print(f"ğŸ’¡ ê°œì„  ì œì•ˆ: {len(result['recommendations'])}ê°œ")
    print(f"\nğŸ“„ ìƒì„¸ ë ˆí¬íŠ¸:\n{result['report']}")
else:
    print(f"âŒ ë¶„ì„ ì‹¤íŒ¨: {result.get('error')}")
```

#### 1.1.3 ì‹¤í–‰ ë°©ë²•

```bash
# Windowsì—ì„œ UTF-8 ì¸ì½”ë”©ìœ¼ë¡œ ì‹¤í–‰
python -X utf8 agents/security/examples/test_agent.py

# ë˜ëŠ” ì§ì ‘ Python ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± í›„ ì‹¤í–‰
python -X utf8 my_analysis.py
```

### 1.2 ì‹¤í–‰ ê²°ê³¼ ì˜ˆì‹œ

```
============================================================
[START] Starting security analysis for facebook/react
============================================================

[PLAN] Analysis Plan:
  1. ì˜ì¡´ì„± íŒŒì¼ ì°¾ê¸° ë° ë¶„ì„
  2. ë³´ì•ˆ ì ìˆ˜ ê³„ì‚°
  3. ê°œì„  ì‚¬í•­ ì œì•ˆ
  4. ìµœì¢… ë ˆí¬íŠ¸ ìƒì„±

[Step 1/4] ì˜ì¡´ì„± íŒŒì¼ ì°¾ê¸° ë° ë¶„ì„
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[THINK] Thought: ë ˆí¬ì§€í† ë¦¬ì˜ ì˜ì¡´ì„±ì„ ë¶„ì„í•´ì•¼ í•©ë‹ˆë‹¤.
[ACTION] Action: analyze_dependencies ì‹¤í–‰
[OK] Observation: 120 ê°œì˜ ì˜ì¡´ì„± ë°œê²¬

[Step 2/4] ë³´ì•ˆ ì ìˆ˜ ê³„ì‚°
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[THINK] Thought: ì˜ì¡´ì„± ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë³´ì•ˆ ì ìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.
[ACTION] Action: calculate_security_score ì‹¤í–‰
[OK] Observation: ë³´ì•ˆ ì ìˆ˜ 85/100 (ë“±ê¸‰: B)

[Step 3/4] ê°œì„  ì‚¬í•­ ì œì•ˆ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[THINK] Thought: ë¶„ì„ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ê°œì„  ì‚¬í•­ì„ ì œì•ˆí•©ë‹ˆë‹¤.
[ACTION] Action: suggest_improvements ì‹¤í–‰
[OK] Observation: 3ê°œì˜ ê°œì„  ì‚¬í•­ ë„ì¶œ
    1. 5ê°œì˜ ì˜ì¡´ì„±ì—ì„œ ë²„ì „ì´ ëª…ì‹œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
    2. Lock íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ì˜ì¡´ì„± ë²„ì „ì„ ê³ ì •í•˜ì„¸ìš”.
    3. ì •ê¸°ì ìœ¼ë¡œ ì˜ì¡´ì„± ì—…ë°ì´íŠ¸ë¥¼ í™•ì¸í•˜ì„¸ìš”.

[REPORT] Generating Final Report...
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
[OK] Report generated successfully!

============================================================
# Security Analysis Report

**Repository**: facebook/react
**Analysis Date**: 2025-12-04 10:30:00

## Executive Summary

- **Total Dependencies**: 120
- **Security Score**: 85/100
- **Security Grade**: B
- **Vulnerabilities Found**: 0

ğŸ‘ **Good security posture.** Some minor improvements recommended.

## Dependency Analysis

**Total Dependency Files**: 2
**Total Unique Dependencies**: 120

### Dependencies by Package Manager

- **npm**: 120 packages

### Dependencies by Type

- **Runtime**: 100
- **Development**: 20
- **Total Unique**: 120

## Recommendations

1. 5ê°œì˜ ì˜ì¡´ì„±ì—ì„œ ë²„ì „ì´ ëª…ì‹œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
2. Lock íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ì˜ì¡´ì„± ë²„ì „ì„ ê³ ì •í•˜ì„¸ìš”.
3. ì •ê¸°ì ìœ¼ë¡œ ì˜ì¡´ì„± ì—…ë°ì´íŠ¸ë¥¼ í™•ì¸í•˜ì„¸ìš”.

---

*Report generated by Security Analysis Agent*
*Timestamp: 2025-12-04 10:30:00*
============================================================
```

### 1.3 ë‹¤ì–‘í•œ ì‚¬ìš© ì¼€ì´ìŠ¤

#### 1.3.1 Private Repository ë¶„ì„ (GitHub Token í•„ìš”)

```python
agent = SecurityAnalysisAgent(github_token="ghp_your_token_here")

result = agent.analyze(
    owner="your-company",
    repository="private-repo"
)
```

#### 1.3.2 ì—¬ëŸ¬ ë ˆí¬ì§€í† ë¦¬ ë°°ì¹˜ ë¶„ì„

```python
agent = SecurityAnalysisAgent()

repositories = [
    ("facebook", "react"),
    ("microsoft", "typescript"),
    ("google", "angular")
]

results = []
for owner, repo in repositories:
    print(f"\nğŸ” Analyzing {owner}/{repo}...")
    result = agent.analyze(owner, repo)
    results.append({
        "repo": f"{owner}/{repo}",
        "grade": result.get("security_grade"),
        "score": result.get("security_score", {}).get("score", 0),
        "dependency_count": result.get("dependency_count", 0)
    })

# ê²°ê³¼ ìš”ì•½
print("\nğŸ“Š ë¶„ì„ ê²°ê³¼ ìš”ì•½:")
print("-" * 60)
for r in results:
    print(f"{r['repo']:30} | Grade: {r['grade']} | Score: {r['score']}/100 | Deps: {r['dependency_count']}")
```

#### 1.3.3 ë ˆí¬íŠ¸ë¥¼ íŒŒì¼ë¡œ ì €ì¥

```python
from agents.security.agent.tools import export_report

agent = SecurityAnalysisAgent()
result = agent.analyze("facebook", "react")

if result["success"] and result.get("report"):
    # ë ˆí¬íŠ¸ë¥¼ Markdown íŒŒì¼ë¡œ ì €ì¥
    export_result = export_report.invoke({
        "report_content": result["report"],
        "output_format": "markdown",
        "file_path": "reports/facebook_react_security_report.md"
    })

    if export_result["success"]:
        print(f"âœ… ë ˆí¬íŠ¸ ì €ì¥ ì™„ë£Œ: {export_result['file_path']}")
```

### 1.4 ì£¼ìš” ë°˜í™˜ ê°’ ì„¤ëª…

```python
result = {
    "success": True,                    # ë¶„ì„ ì„±ê³µ ì—¬ë¶€
    "owner": "facebook",                # ë ˆí¬ì§€í† ë¦¬ ì†Œìœ ì
    "repository": "react",              # ë ˆí¬ì§€í† ë¦¬ ì´ë¦„
    "dependency_count": 120,            # ë°œê²¬ëœ ì˜ì¡´ì„± ê°œìˆ˜
    "security_score": {                 # ë³´ì•ˆ ì ìˆ˜ ìƒì„¸
        "score": 85,                    # ì ìˆ˜ (0-100)
        "grade": "B",                   # ë“±ê¸‰ (A-F)
        "factors": {                    # ì ìˆ˜ ì‚°ì¶œ ìš”ì†Œ
            "total_dependencies": 120,
            "unversioned_dependencies": 5
        }
    },
    "security_grade": "B",              # ë³´ì•ˆ ë“±ê¸‰ (ê°„í¸ ì ‘ê·¼)
    "recommendations": [                # ê°œì„  ì œì•ˆ ëª©ë¡
        "5ê°œì˜ ì˜ì¡´ì„±ì—ì„œ ë²„ì „ì´ ëª…ì‹œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.",
        "Lock íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ì˜ì¡´ì„± ë²„ì „ì„ ê³ ì •í•˜ì„¸ìš”."
    ],
    "report": "# Security Analysis Report...",  # ì „ì²´ Markdown ë ˆí¬íŠ¸
    "errors": []                        # ë°œìƒí•œ ì—ëŸ¬ ëª©ë¡ (ìˆëŠ” ê²½ìš°)
}
```

### 1.5 ë¬¸ì œ í•´ê²°

#### ì˜ì¡´ì„±ì´ ë°œê²¬ë˜ì§€ ì•ŠëŠ” ê²½ìš°

```python
result = agent.analyze("octocat", "Hello-World")

if result.get("dependency_count", 0) == 0:
    print("âš ï¸  ì´ ë ˆí¬ì§€í† ë¦¬ì—ëŠ” ì˜ì¡´ì„± íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.")
    print("ì§€ì›í•˜ëŠ” ì˜ì¡´ì„± íŒŒì¼ í˜•ì‹:")
    print("- npm: package.json, package-lock.json, yarn.lock")
    print("- Python: requirements.txt, Pipfile, pyproject.toml")
    print("- Java: pom.xml, build.gradle")
    print("- ê·¸ ì™¸ 30+ ì–¸ì–´/íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ì§€ì›")
```

#### GitHub API Rate Limit ì´ˆê³¼

```python
# GitHub Tokenì„ ì‚¬ìš©í•˜ë©´ ì‹œê°„ë‹¹ 5,000 ìš”ì²­ ê°€ëŠ¥ (ë¯¸ì¸ì¦: 60 ìš”ì²­)
agent = SecurityAnalysisAgent(github_token="ghp_your_token")

# Token ìƒì„± ë°©ë²•:
# 1. GitHub ë¡œê·¸ì¸ â†’ Settings
# 2. Developer settings â†’ Personal access tokens â†’ Tokens (classic)
# 3. Generate new token â†’ repo ê¶Œí•œ ì„ íƒ
# 4. ìƒì„±ëœ í† í° ë³µì‚¬í•˜ì—¬ ì‚¬ìš©
```

---

## 2. ê°œìš”

### 2.1 í”„ë¡œì íŠ¸ ëª©ì 

GitHub ë ˆí¬ì§€í† ë¦¬ì˜ ë³´ì•ˆì„ ìë™ìœ¼ë¡œ ë¶„ì„í•˜ëŠ” **ììœ¨ì ì¸ AI ì—ì´ì „íŠ¸**ë¥¼ êµ¬ì¶•í•©ë‹ˆë‹¤. ì´ ì—ì´ì „íŠ¸ëŠ”:

- ìŠ¤ìŠ¤ë¡œ ë¶„ì„ ê³„íšì„ ìˆ˜ë¦½í•˜ê³ 
- ê³„íšì„ ê²€ì¦í•˜ë©°
- í•„ìš”í•œ ë„êµ¬ë¥¼ ì„ íƒí•´ ì‹¤í–‰í•˜ê³ 
- ê²°ê³¼ë¥¼ ê´€ì°°í•˜ê³  ë°˜ì„±í•˜ë©°
- ìµœì¢… ë ˆí¬íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤

### 2.2 í•µì‹¬ ê¸°ìˆ  ìŠ¤íƒ

- **LangGraph**: ìƒíƒœ ê¸°ë°˜ ê·¸ë˜í”„ë¡œ ì—ì´ì „íŠ¸ í”Œë¡œìš° ê´€ë¦¬
- **LangChain**: íˆ´ í†µí•© ë° ê´€ë¦¬
- **ReAct íŒ¨í„´**: Think â†’ Act â†’ Observe ì‚¬ì´í´

### 2.3 í˜„ì¬ ë²„ì „ (v0.1) ë²”ìœ„

âœ… **êµ¬í˜„ ì™„ë£Œ:**
- ì˜ì¡´ì„± ë¶„ì„ (30+ ì–¸ì–´ ì§€ì›)
- ë³´ì•ˆ ì ìˆ˜ ê³„ì‚°
- ê°œì„  ì‚¬í•­ ì œì•ˆ
- ìë™ ë ˆí¬íŠ¸ ìƒì„±
- LangGraph ê¸°ë°˜ ììœ¨ ì‹¤í–‰

âŒ **ë¯¸êµ¬í˜„ (í–¥í›„ ì‘ì—…):**
- CPE ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™
- NVD APIë¥¼ í†µí•œ ì‹¤ì œ ì·¨ì•½ì  ì¡°íšŒ
- Human-in-the-Loop (ì‚¬ëŒ ê°œì…)
- LangSmith ì¶”ì 

---

## 3. ì „ì²´ ì•„í‚¤í…ì²˜

### 3.1 ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
backend/agents/security/agent/
â”œâ”€â”€ __init__.py                   # ë©”ì¸ ëª¨ë“ˆ ì§„ì…ì 
â”œâ”€â”€ state.py                      # State ì •ì˜
â”œâ”€â”€ prompts.py                    # í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿
â”œâ”€â”€ graph.py                      # LangGraph ê·¸ë˜í”„ ì •ì˜
â”œâ”€â”€ security_agent.py             # ì—ì´ì „íŠ¸ ë©”ì¸ í´ë˜ìŠ¤
â”‚
â”œâ”€â”€ nodes/                        # ë…¸ë“œ êµ¬í˜„
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ initialize.py             # ì´ˆê¸°í™” ë…¸ë“œ
â”‚   â”œâ”€â”€ planning.py               # ê³„íš ìˆ˜ë¦½ ë…¸ë“œ
â”‚   â”œâ”€â”€ validation.py             # ê³„íš ê²€ì¦ ë…¸ë“œ
â”‚   â”œâ”€â”€ execution.py              # ì‹¤í–‰ ë…¸ë“œ (ReAct)
â”‚   â”œâ”€â”€ observation.py            # ê´€ì°° ë° ë°˜ì„± ë…¸ë“œ
â”‚   â””â”€â”€ reporting.py              # ë ˆí¬íŠ¸ ìƒì„± ë…¸ë“œ
â”‚
â””â”€â”€ tools/                        # íˆ´ êµ¬í˜„
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ github_tools.py           # GitHub ê´€ë ¨ íˆ´ (5ê°œ)
    â”œâ”€â”€ dependency_tools.py       # ì˜ì¡´ì„± ë¶„ì„ íˆ´ (7ê°œ)
    â”œâ”€â”€ assessment_tools.py       # ë³´ì•ˆ í‰ê°€ íˆ´ (4ê°œ)
    â””â”€â”€ report_tools.py           # ë ˆí¬íŠ¸ ìƒì„± íˆ´ (5ê°œ)
```

### 3.2 ë°ì´í„° íë¦„

```
Input (owner, repo)
    â†“
[State ìƒì„±]
    â†“
[LangGraph ì‹¤í–‰]
    â†“
[ë…¸ë“œë“¤ì´ State ì—…ë°ì´íŠ¸]
    â†“
[Final State]
    â†“
Output (ë ˆí¬íŠ¸, ì ìˆ˜ ë“±)
```

---

## 4. State ì •ì˜

### 4.1 SecurityAnalysisState

**íŒŒì¼**: `agent/state.py`

StateëŠ” ì—ì´ì „íŠ¸ì˜ **ì „ì²´ ì‘ì—… ìƒíƒœ**ë¥¼ ì €ì¥í•˜ëŠ” ì¤‘ì•™ ì €ì¥ì†Œì…ë‹ˆë‹¤.

```python
class SecurityAnalysisState(TypedDict, total=False):
    # ì…ë ¥ ì •ë³´
    owner: str                              # ë ˆí¬ì§€í† ë¦¬ ì†Œìœ ì
    repository: str                         # ë ˆí¬ì§€í† ë¦¬ ì´ë¦„
    github_token: Optional[str]             # GitHub í† í°

    # ì§„í–‰ ìƒíƒœ
    current_step: str                       # í˜„ì¬ ë‹¨ê³„
    iteration: int                          # í˜„ì¬ ë°˜ë³µ íšŸìˆ˜
    max_iterations: int                     # ìµœëŒ€ ë°˜ë³µ íšŸìˆ˜

    # ê³„íš
    plan: List[str]                         # ì‘ì—… ê³„íš ë¦¬ìŠ¤íŠ¸
    plan_valid: bool                        # ê³„íš ìœ íš¨ì„±
    plan_feedback: str                      # ê²€ì¦ í”¼ë“œë°±

    # ë©”ì‹œì§€
    messages: Annotated[List[str], add]     # ëˆ„ì  ë©”ì‹œì§€

    # ë¶„ì„ ê²°ê³¼
    dependencies: Optional[Dict[str, Any]]  # ì˜ì¡´ì„± ë¶„ì„ ê²°ê³¼
    dependency_count: int                   # ì˜ì¡´ì„± ê°œìˆ˜
    lock_files_found: List[str]             # ë°œê²¬ëœ lock íŒŒì¼

    # ë³´ì•ˆ í‰ê°€
    security_score: Optional[Dict[str, Any]] # ë³´ì•ˆ ì ìˆ˜
    security_grade: str                     # ë³´ì•ˆ ë“±ê¸‰ (A-F)
    risk_level: str                         # ìœ„í—˜ë„

    # ë ˆí¬íŠ¸
    report: Optional[str]                   # ìµœì¢… ë ˆí¬íŠ¸
    recommendations: List[str]              # ê°œì„  ì œì•ˆ

    # ì—ëŸ¬ ë° ê²½ê³ 
    errors: Annotated[List[str], add]       # ì—ëŸ¬ ëª©ë¡
    warnings: Annotated[List[str], add]     # ê²½ê³  ëª©ë¡

    # ì™„ë£Œ ìƒíƒœ
    completed: bool                         # ì™„ë£Œ ì—¬ë¶€
    final_result: Optional[Dict[str, Any]]  # ìµœì¢… ê²°ê³¼
```

### 4.2 State ì—…ë°ì´íŠ¸ ë°©ì‹

ê° ë…¸ë“œëŠ” **ë”•ì…”ë„ˆë¦¬ë¥¼ ë°˜í™˜**í•˜ì—¬ Stateë¥¼ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤:

```python
def some_node(state: SecurityAnalysisState) -> Dict[str, Any]:
    # ì‘ì—… ìˆ˜í–‰
    result = do_something()

    # State ì—…ë°ì´íŠ¸ ë°˜í™˜
    return {
        "current_step": "new_step",
        "messages": ["ìƒˆ ë©”ì‹œì§€"],  # Annotated[..., add]ëŠ” ê¸°ì¡´ ê°’ì— ì¶”ê°€ë¨
        "iteration": state["iteration"] + 1
    }
```

### 4.3 ì´ˆê¸° State ìƒì„±

```python
def create_initial_state(
    owner: str,
    repository: str,
    github_token: Optional[str] = None,
    max_iterations: int = 10
) -> SecurityAnalysisState
```

**ì—­í• **: ë¶„ì„ ì‹œì‘ ì‹œ ì´ˆê¸° Stateë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

---

## 5. íˆ´ (Tools) ìƒì„¸

íˆ´ì€ **ì—ì´ì „íŠ¸ê°€ ì‹¤ì œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë…ë¦½ì ì¸ í•¨ìˆ˜**ì…ë‹ˆë‹¤. LangChainì˜ `@tool` ë°ì½”ë ˆì´í„°ë¡œ ì •ì˜ë©ë‹ˆë‹¤.

### 5.1 GitHub ê´€ë ¨ íˆ´ (5ê°œ)

**íŒŒì¼**: `agent/tools/github_tools.py`

#### 5.1.1 fetch_repository_tree

```python
@tool
def fetch_repository_tree(owner: str, repo: str, github_token: Optional[str] = None) -> Dict[str, Any]
```

**ì—­í• **: GitHub ë ˆí¬ì§€í† ë¦¬ì˜ ì „ì²´ íŒŒì¼ íŠ¸ë¦¬ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.

**ì…ë ¥**:
- `owner`: ë ˆí¬ì§€í† ë¦¬ ì†Œìœ ì
- `repo`: ë ˆí¬ì§€í† ë¦¬ ì´ë¦„
- `github_token`: GitHub í† í° (ì„ íƒ)

**ì¶œë ¥**:
```python
{
    "success": True,
    "files": [
        {"path": "package.json", "sha": "abc123", "size": 1024},
        ...
    ],
    "count": 150
}
```

#### 5.1.2 find_dependency_files

```python
@tool
def find_dependency_files(owner: str, repo: str, github_token: Optional[str] = None) -> Dict[str, Any]
```

**ì—­í• **: ì˜ì¡´ì„± íŒŒì¼ë§Œ í•„í„°ë§í•˜ì—¬ ë°˜í™˜í•©ë‹ˆë‹¤.

**ì¶œë ¥**:
```python
{
    "success": True,
    "dependency_files": ["package.json", "yarn.lock"],
    "lock_files": ["yarn.lock"],
    "regular_files": ["package.json"],
    "count": 2
}
```

#### 5.1.3 validate_repository_access

```python
@tool
def validate_repository_access(owner: str, repo: str, github_token: Optional[str] = None) -> Dict[str, Any]
```

**ì—­í• **: ë ˆí¬ì§€í† ë¦¬ ì ‘ê·¼ ê°€ëŠ¥ ì—¬ë¶€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.

---

### 5.2 ì˜ì¡´ì„± ë¶„ì„ íˆ´ (7ê°œ)

**íŒŒì¼**: `agent/tools/dependency_tools.py`

#### 5.2.1 analyze_dependencies (í•µì‹¬ íˆ´)

```python
@tool
def analyze_dependencies(owner: str, repo: str, max_workers: int = 5, github_token: Optional[str] = None) -> Dict[str, Any]
```

**ì—­í• **: ë ˆí¬ì§€í† ë¦¬ì˜ ëª¨ë“  ì˜ì¡´ì„±ì„ ë¶„ì„í•©ë‹ˆë‹¤.

**ë‚´ë¶€ ë™ì‘**:
1. GitHubì—ì„œ ì˜ì¡´ì„± íŒŒì¼ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
2. ê° íŒŒì¼ì˜ ë‚´ìš© ë‹¤ìš´ë¡œë“œ
3. ì–¸ì–´ë³„ íŒŒì„œë¡œ ì˜ì¡´ì„± ì¶”ì¶œ
4. Lock íŒŒì¼ ìš°ì„  ì²˜ë¦¬
5. ì¤‘ë³µ ì œê±° ë° í†µê³„ ìƒì„±

**ì¶œë ¥**:
```python
{
    "success": True,
    "total_dependencies": 120,
    "summary": {
        "by_source": {"npm": 120},
        "runtime_dependencies": 100,
        "dev_dependencies": 20
    }
}
```

#### 5.2.2 ~ 5.2.7 ê¸°íƒ€ íˆ´

- `filter_by_source`: íŠ¹ì • íŒ¨í‚¤ì§€ ì†ŒìŠ¤ í•„í„°ë§
- `filter_by_type`: ì˜ì¡´ì„± íƒ€ì…ë³„ í•„í„°ë§
- `find_outdated_deps`: ë²„ì „ ë¯¸ëª…ì‹œ ì˜ì¡´ì„± ì°¾ê¸°
- `count_by_language`: ì–¸ì–´ë³„ ì§‘ê³„
- `summarize_analysis`: í…ìŠ¤íŠ¸ ìš”ì•½ ìƒì„±

---

### 5.3 ë³´ì•ˆ í‰ê°€ íˆ´ (4ê°œ)

**íŒŒì¼**: `agent/tools/assessment_tools.py`

#### 5.3.1 calculate_security_score (í•µì‹¬ íˆ´)

```python
@tool
def calculate_security_score(
    analysis_result: Dict[str, Any],
    vulnerability_result: Optional[Dict[str, Any]] = None
) -> Dict[str, Any]
```

**ì—­í• **: ë³´ì•ˆ ì ìˆ˜ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.

**ì ìˆ˜ ê³„ì‚° ë¡œì§**:
1. ê¸°ë³¸ ì ìˆ˜: 100ì 
2. ë²„ì „ ë¯¸ëª…ì‹œ ì˜ì¡´ì„±ë§ˆë‹¤ -2ì 
3. ì·¨ì•½ì  ê°œìˆ˜ì— ë”°ë¼ ì¶”ê°€ ê°ì  (í–¥í›„)

**ì¶œë ¥**:
```python
{
    "success": True,
    "score": 85,
    "grade": "B",
    "factors": {
        "total_dependencies": 120,
        "unversioned_dependencies": 5
    }
}
```

**ë“±ê¸‰ ê¸°ì¤€**:
- A: 90-100ì 
- B: 75-89ì 
- C: 50-74ì 
- D: 25-49ì 
- F: 0-24ì 

#### 5.3.2 ~ 5.3.4 ê¸°íƒ€ íˆ´

- `suggest_improvements`: ê°œì„  ì‚¬í•­ ì œì•ˆ
- `check_license_compliance`: ë¼ì´ì„¼ìŠ¤ ì²´í¬ (ë¯¸êµ¬í˜„)
- `assess_risk_level`: ìœ„í—˜ë„ í‰ê°€

---

### 5.4 ë ˆí¬íŠ¸ ìƒì„± íˆ´ (5ê°œ)

**íŒŒì¼**: `agent/tools/report_tools.py`

#### 5.4.1 generate_full_report (í•µì‹¬ íˆ´)

```python
@tool
def generate_full_report(
    owner: str,
    repo: str,
    dependency_count: int,
    security_score: Dict[str, Any],
    analysis_result: Dict[str, Any],
    suggestions: List[str],
    vulnerability_count: int = 0
) -> Dict[str, Any]
```

**ì—­í• **: ì „ì²´ ë ˆí¬íŠ¸ë¥¼ í•˜ë‚˜ë¡œ ì¡°í•©í•©ë‹ˆë‹¤.

**ë‚´ë¶€ ë™ì‘**:
1. `generate_executive_summary` í˜¸ì¶œ
2. `generate_dependency_report` í˜¸ì¶œ
3. `generate_recommendations_report` í˜¸ì¶œ
4. ëª¨ë“  ì„¹ì…˜ì„ í•˜ë‚˜ì˜ Markdown ë¬¸ì„œë¡œ ë³‘í•©

---

## 6. ë…¸ë“œ (Nodes) ìƒì„¸

ë…¸ë“œëŠ” **ê·¸ë˜í”„ì˜ ê° ë‹¨ê³„ì—ì„œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜**ì…ë‹ˆë‹¤.

### 6.1 Initialize Node

**íŒŒì¼**: `agent/nodes/initialize.py`

**ì—­í• **:
- ì…ë ¥ ê²€ì¦ (owner, repository í•„ìˆ˜ í™•ì¸)
- ì´ˆê¸° ë©”ì‹œì§€ ìƒì„±

**ì¶œë ¥**:
```
============================================================
[START] Starting security analysis for facebook/react
============================================================
```

---

### 6.2 Planning Node

**íŒŒì¼**: `agent/nodes/planning.py`

**ì—­í• **: ë¶„ì„ ì‘ì—… ê³„íš ìˆ˜ë¦½ (í˜„ì¬ëŠ” ê·œì¹™ ê¸°ë°˜)

**ê¸°ë³¸ ê³„íš**:
```python
plan = [
    "ì˜ì¡´ì„± íŒŒì¼ ì°¾ê¸° ë° ë¶„ì„",
    "ë³´ì•ˆ ì ìˆ˜ ê³„ì‚°",
    "ê°œì„  ì‚¬í•­ ì œì•ˆ",
    "ìµœì¢… ë ˆí¬íŠ¸ ìƒì„±"
]
```

---

### 6.3 Validation Node

**íŒŒì¼**: `agent/nodes/validation.py`

**ì—­í• **: ê³„íšì˜ íƒ€ë‹¹ì„± ê²€ì¦

**ê²€ì¦ ê¸°ì¤€**:
```python
required_keywords = ["ì˜ì¡´ì„±", "ë³´ì•ˆ", "ë ˆí¬íŠ¸"]
```

---

### 6.4 Execution Node (í•µì‹¬!)

**íŒŒì¼**: `agent/nodes/execution.py`

**ì—­í• **: ê³„íšì˜ í˜„ì¬ ë‹¨ê³„ ì‹¤í–‰ (ReAct íŒ¨í„´ ì ìš©)

**ì‹¤í–‰ ë¡œì§**:
```python
# Think
print("[THINK] Thought: ë ˆí¬ì§€í† ë¦¬ì˜ ì˜ì¡´ì„±ì„ ë¶„ì„í•´ì•¼ í•©ë‹ˆë‹¤.")

# Act
print("[ACTION] Action: analyze_dependencies ì‹¤í–‰")
result = analyze_dependencies.invoke({...})

# Observe
if result.get("success"):
    print(f"[OK] Observation: {result['total_dependencies']} ê°œì˜ ì˜ì¡´ì„± ë°œê²¬")
```

**ì²˜ë¦¬í•˜ëŠ” ì‘ì—… ìœ í˜•**:
1. ì˜ì¡´ì„± ë¶„ì„
2. ë³´ì•ˆ ì ìˆ˜ ê³„ì‚°
3. ê°œì„  ì‚¬í•­ ì œì•ˆ
4. ë ˆí¬íŠ¸ ìƒì„±

---

### 6.5 Observation Node

**íŒŒì¼**: `agent/nodes/observation.py`

**ì—­í• **: ì‹¤í–‰ ê²°ê³¼ ê´€ì°° ë° ë‹¤ìŒ í–‰ë™ ê²°ì •

**íŒë‹¨ ë¡œì§**:
- ì—ëŸ¬ê°€ 3ê°œ ì´ìƒ: ì¤‘ë‹¨
- ëª¨ë“  ê³„íš ì™„ë£Œ: ë ˆí¬íŠ¸ ìƒì„±ìœ¼ë¡œ
- ìµœëŒ€ ë°˜ë³µ íšŸìˆ˜ ë„ë‹¬: ì¤‘ë‹¨
- ê·¸ ì™¸: ê³„ì† ì§„í–‰

---

### 6.6 Reporting Node

**íŒŒì¼**: `agent/nodes/reporting.py`

**ì—­í• **: ìµœì¢… ë ˆí¬íŠ¸ ìƒì„±

---

## 7. ê·¸ë˜í”„ êµ¬ì¡°

### 7.1 ê·¸ë˜í”„ ì •ì˜

**íŒŒì¼**: `agent/graph.py`

```python
workflow = StateGraph(SecurityAnalysisState)

# ë…¸ë“œ ì¶”ê°€
workflow.add_node("initialize", initialize_node)
workflow.add_node("plan", planning_node)
workflow.add_node("validate", validate_plan_node)
workflow.add_node("execute", execute_tools_node)
workflow.add_node("observe", observe_and_reflect_node)
workflow.add_node("report", generate_report_node)

# ì—£ì§€ ì—°ê²°
workflow.set_entry_point("initialize")
workflow.add_edge("initialize", "plan")
workflow.add_edge("plan", "validate")
workflow.add_edge("execute", "observe")
workflow.add_edge("report", END)
```

### 7.2 ì¡°ê±´ë¶€ ë¼ìš°íŒ…

#### 7.2.1 ê³„íš ê²€ì¦ í›„

```python
def route_after_validation(state):
    if state.get("plan_valid"):
        return "execute"
    else:
        return "plan"  # ì¬ê³„íš
```

#### 7.2.2 ê´€ì°° í›„

```python
def route_after_observation(state):
    if state.get("completed"):
        return END
    elif state["iteration"] >= len(state["plan"]):
        return "report"
    elif state["current_step"] == "continue":
        return "execute"
    return "report"
```

### 7.3 ê·¸ë˜í”„ ì‹œê°í™”

```
START â†’ Initialize â†’ Plan â†’ Validate â†’ Execute â†’ Observe â†’ Report â†’ END
                       â†‘        â†“                    â†“
                       â””â”€[Invalid]          [Continue]â”€â”€â”˜
```

---

## 8. ì‹¤í–‰ íë¦„

### 8.1 ë©”ì¸ ì—ì´ì „íŠ¸ í´ë˜ìŠ¤

**íŒŒì¼**: `agent/security_agent.py`

```python
class SecurityAnalysisAgent:
    def __init__(self, github_token=None, max_iterations=10, verbose=True):
        self.graph = create_security_analysis_graph()

    def analyze(self, owner: str, repository: str):
        initial_state = create_initial_state(owner, repository, ...)
        final_state = self.graph.invoke(initial_state)
        return extract_results(final_state)
```

### 8.2 ì‚¬ìš© ì˜ˆì‹œ

```python
from backend.agents.security.agent import SecurityAnalysisAgent

agent = SecurityAnalysisAgent()
result = agent.analyze("facebook", "react")

print(f"Grade: {result['security_grade']}")
print(result['report'])
```

---

## 9. ì‚¬ìš© ë°©ë²•

### 9.1 ê¸°ë³¸ ì‚¬ìš©

```python
from backend.agents.security.agent import SecurityAnalysisAgent

agent = SecurityAnalysisAgent(github_token="ghp_xxxxx")
result = agent.analyze(owner="facebook", repository="react")

if result["success"]:
    print(f"Security Grade: {result['security_grade']}")
    print(f"Dependencies: {result['dependency_count']}")
    print(result['report'])
```

### 8.2 ì˜ˆì œ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰

```bash
cd backend
python -X utf8 agents/security/examples/test_agent.py
```

---

## 10. ë‹¤ìŒ ë‹¨ê³„

### 10.1 ì¦‰ì‹œ ê°œì„  ê°€ëŠ¥í•œ ì‚¬í•­

#### 10.1.1 LLM ê¸°ë°˜ ë™ì  ê³„íš ìˆ˜ë¦½

**í˜„ì¬ ë¬¸ì œ**: ê³„íšì´ í•˜ë“œì½”ë”©ë˜ì–´ ìˆìŒ

**ê°œì„  ë°©ì•ˆ**:
```python
from langchain_openai import ChatOpenAI

def planning_node(state):
    llm = ChatOpenAI(model="gpt-4")

    prompt = f"""
    ë ˆí¬ì§€í† ë¦¬ {state['owner']}/{state['repository']}ì˜
    ë³´ì•ˆ ë¶„ì„ ê³„íšì„ ìˆ˜ë¦½í•˜ì„¸ìš”.

    ì‚¬ìš© ê°€ëŠ¥í•œ ë„êµ¬:
    - analyze_dependencies
    - calculate_security_score
    - suggest_improvements

    ê³„íšì„ ë‹¨ê³„ë³„ë¡œ ì‘ì„±í•˜ì„¸ìš”:
    """

    response = llm.invoke(prompt)
    plan = parse_plan(response.content)

    return {"plan": plan}
```

#### 10.1.2 Human-in-the-Loop êµ¬í˜„

```python
def ask_human_node(state):
    """ì‚¬ëŒì—ê²Œ ì§ˆë¬¸í•˜ê³  ì‘ë‹µ ëŒ€ê¸°"""
    question = state["human_question"]
    print(f"[QUESTION] {question}")
    response = input("ë‹µë³€: ")

    return {
        "human_response": response,
        "needs_human_input": False
    }
```

**ì§ˆë¬¸ ì‹œë‚˜ë¦¬ì˜¤**:
- ì‹¬ê°í•œ ì·¨ì•½ì  ë°œê²¬ ì‹œ
- ì—ëŸ¬ ë°œìƒ ì‹œ
- ë¶ˆí™•ì‹¤í•œ ìƒí™©

#### 10.1.3 LangSmith ì¶”ì  í†µí•©

```python
from langsmith.run_helpers import traceable

class SecurityAnalysisAgent:
    @traceable(run_type="agent", project_name="security-analysis")
    def analyze(self, owner, repo):
        # ëª¨ë“  ì‹¤í–‰ì„ LangSmithì— ê¸°ë¡
        ...
```

---

### 10.2 ì·¨ì•½ì  ìŠ¤ìº” ê¸°ëŠ¥ (CPE/NVD ì—°ë™)

#### 10.2.1 CPE ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¶•

**ìŠ¤í‚¤ë§ˆ**:
```sql
CREATE TABLE cpe_mapping (
    package_name VARCHAR(255),
    package_source VARCHAR(50),
    version_pattern VARCHAR(255),
    cpe_id VARCHAR(500),
    PRIMARY KEY (package_name, package_source)
);
```

**íˆ´ êµ¬í˜„**:
```python
@tool
def query_cpe_database(package_name: str, version: str, source: str):
    """CPE ë°ì´í„°ë² ì´ìŠ¤ ì¡°íšŒ"""
    # SQL ì¿¼ë¦¬ë¡œ CPE ID ì°¾ê¸°
    return {"cpe_ids": [...]}
```

#### 10.2.2 NVD API ì—°ë™

```python
@tool
def fetch_nvd_vulnerabilities(cpe_id: str):
    """NVD APIë¡œ CVE ì¡°íšŒ"""
    url = "https://services.nvd.nist.gov/rest/json/cves/2.0"
    response = requests.get(url, params={"cpeName": cpe_id})

    return {
        "vulnerabilities": [
            {
                "cve_id": "CVE-2023-1234",
                "severity": "HIGH",
                "cvss_score": 7.5
            }
        ]
    }
```

**ìºì‹± ì¶”ê°€**:
```python
class SimpleCache:
    def get(self, key: str):
        # ìºì‹œì—ì„œ ì¡°íšŒ
        pass

    def set(self, key: str, value: any, ttl: int):
        # ìºì‹œì— ì €ì¥
        pass
```

---

### 10.3 ê³ ê¸‰ ê¸°ëŠ¥

#### 10.3.1 ë¼ì´ì„¼ìŠ¤ ì²´í¬

```python
@tool
def check_license_compliance(analysis_result, allowed_licenses):
    """ë¼ì´ì„¼ìŠ¤ ì¤€ìˆ˜ ì—¬ë¶€ í™•ì¸"""
    # PyPI, npm registry APIë¡œ ë¼ì´ì„¼ìŠ¤ ì •ë³´ ì¡°íšŒ
    pass
```

#### 10.3.2 ì˜ì¡´ì„± íŠ¸ë¦¬ ë¶„ì„

```python
@tool
def analyze_dependency_tree(owner, repo):
    """ê°„ì ‘ ì˜ì¡´ì„± í¬í•¨ ì „ì²´ íŠ¸ë¦¬ ë¶„ì„"""
    # package-lock.jsonì˜ dependencies í•„ë“œ íŒŒì‹±
    pass
```

#### 10.3.3 ìë™ PR ìƒì„±

```python
@tool
def create_security_pr(owner, repo, fixes):
    """ë³´ì•ˆ ìˆ˜ì • PR ìë™ ìƒì„±"""
    # 1. ë¸Œëœì¹˜ ìƒì„±
    # 2. íŒŒì¼ ìˆ˜ì •
    # 3. PR ìƒì„±
    pass
```

---

### 10.4 ì„±ëŠ¥ ìµœì í™”

#### 10.4.1 ë³‘ë ¬ ì²˜ë¦¬

```python
def query_cpe_database_batch(packages: List[Dict]):
    """ì—¬ëŸ¬ íŒ¨í‚¤ì§€ë¥¼ í•œ ë²ˆì— ì¡°íšŒ"""
    # ë³‘ë ¬ API í˜¸ì¶œ
    pass
```

#### 10.4.2 ì¦ë¶„ ë¶„ì„

```python
def analyze_incremental(owner, repo, since):
    """ë§ˆì§€ë§‰ ë¶„ì„ ì´í›„ ë³€ê²½ì‚¬í•­ë§Œ ë¶„ì„"""
    # Git diffë¡œ ë³€ê²½ëœ íŒŒì¼ë§Œ í™•ì¸
    pass
```

---

### 10.5 ê²€ì¦ ë° í…ŒìŠ¤íŠ¸

#### 10.5.1 ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

```python
def test_analyze_dependencies():
    result = analyze_dependencies.invoke({
        "owner": "octocat",
        "repo": "Hello-World"
    })
    assert result["success"] == True
```

#### 10.5.2 ì—£ì§€ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸

- ì˜ì¡´ì„± íŒŒì¼ì´ ì—†ëŠ” ë ˆí¬ì§€í† ë¦¬
- ì ‘ê·¼ ë¶ˆê°€ëŠ¥í•œ í”„ë¼ì´ë¹— ë ˆí¬ì§€í† ë¦¬
- ë§¤ìš° í° ë ˆí¬ì§€í† ë¦¬ (1000+ ì˜ì¡´ì„±)

---

### 10.6 ê°œì„ ì‚¬í•­ ìš”ì•½

| ìš°ì„ ìˆœìœ„ | ê¸°ëŠ¥ | ë‚œì´ë„ | ì˜ˆìƒ ì‹œê°„ |
|---------|------|--------|----------|
| ğŸ”¥ ë†’ìŒ | LLM ê¸°ë°˜ ë™ì  ê³„íš | ì¤‘ | 2-3ì¼ |
| ğŸ”¥ ë†’ìŒ | CPE ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¶• | ë†’ìŒ | 1-2ì£¼ |
| ğŸ”¥ ë†’ìŒ | NVD API ì—°ë™ | ì¤‘ | 3-5ì¼ |
| ğŸ”´ ì¤‘ê°„ | Human-in-the-Loop | ì¤‘ | 2-3ì¼ |
| ğŸ”´ ì¤‘ê°„ | LangSmith ì¶”ì  | ë‚®ìŒ | 1ì¼ |
| ğŸ”´ ì¤‘ê°„ | ìºì‹± ì‹œìŠ¤í…œ | ì¤‘ | 2ì¼ |
| ğŸŸ¡ ë‚®ìŒ | ë¼ì´ì„¼ìŠ¤ ì²´í¬ | ì¤‘ | 3-4ì¼ |
| ğŸŸ¡ ë‚®ìŒ | ì˜ì¡´ì„± íŠ¸ë¦¬ | ë†’ìŒ | 5-7ì¼ |

---

### 10.7 ì¦‰ì‹œ ì ìš© ê°€ëŠ¥í•œ ê°œì„ 

#### 1. ì—ëŸ¬ ë©”ì‹œì§€ ê°œì„ 

```python
# í˜„ì¬
if result.get("success"):
    print(f"[OK] {result['total_dependencies']} ê°œ ë°œê²¬")

# ê°œì„ 
if result.get("success"):
    count = result.get('total_dependencies', 0)
    if count == 0:
        print("[INFO] ì˜ì¡´ì„± íŒŒì¼ì´ ë°œê²¬ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.")
    else:
        print(f"[OK] {count} ê°œì˜ ì˜ì¡´ì„± ë°œê²¬")
```

#### 2. ì§„í–‰ ìƒí™© ì½œë°±

```python
def analyze(self, owner, repo, progress_callback=None):
    if progress_callback:
        progress_callback("initialize", "ë¶„ì„ ì‹œì‘")
```

#### 3. íƒ€ì„ì•„ì›ƒ ì„¤ì •

```python
def analyze(self, owner, repo, timeout=300):
    """timeout: ìµœëŒ€ ì‹¤í–‰ ì‹œê°„ (ì´ˆ)"""
    signal.alarm(timeout)
    try:
        result = self.graph.invoke(initial_state)
    finally:
        signal.alarm(0)
```

---

## 11. ë§ˆë¬´ë¦¬

### 11.1 í˜„ì¬ ìƒíƒœ

âœ… **ì™„ë£Œëœ ì‘ì—…**:
- LangGraph ê¸°ë°˜ ì—ì´ì „íŠ¸ í”„ë ˆì„ì›Œí¬ êµ¬ì¶•
- 21ê°œ ë…ë¦½ íˆ´ êµ¬í˜„
- 6ê°œ ë…¸ë“œë¡œ êµ¬ì„±ëœ ì‹¤í–‰ ê·¸ë˜í”„
- ReAct íŒ¨í„´ ì ìš©
- ì˜ì¡´ì„± ë¶„ì„ ë° ë³´ì•ˆ ì ìˆ˜ ê³„ì‚°
- ìë™ ë ˆí¬íŠ¸ ìƒì„±

### 11.2 í–¥í›„ ë¡œë“œë§µ

**Phase 1 (1-2ì£¼)**: í•µì‹¬ ê¸°ëŠ¥ ê°•í™”
- LLM ê¸°ë°˜ ë™ì  ê³„íš ìˆ˜ë¦½
- Human-in-the-Loop
- LangSmith ì¶”ì 

**Phase 2 (2-3ì£¼)**: ì·¨ì•½ì  ìŠ¤ìº”
- CPE ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¶•
- NVD API ì—°ë™
- ìºì‹± ì‹œìŠ¤í…œ

**Phase 3 (2-3ì£¼)**: ê³ ê¸‰ ê¸°ëŠ¥
- ë¼ì´ì„¼ìŠ¤ ì²´í¬
- ì˜ì¡´ì„± íŠ¸ë¦¬ ë¶„ì„
- ìë™ PR ìƒì„±

**Phase 4 (1ì£¼)**: ìµœì í™” ë° ë°°í¬
- ì„±ëŠ¥ ìµœì í™”
- í…ŒìŠ¤íŠ¸ í™•ì¶©
- ë¬¸ì„œí™” ì™„ì„±

### 11.3 ì£¼ìš” í•™ìŠµ í¬ì¸íŠ¸

1. **State ê´€ë¦¬**: TypedDictë¡œ íƒ€ì… ì•ˆì „í•œ State ê´€ë¦¬
2. **íˆ´ ì„¤ê³„**: ë‹¨ì¼ ì±…ì„ ì›ì¹™ì„ ë”°ë¥´ëŠ” ë…ë¦½ì ì¸ íˆ´
3. **ê·¸ë˜í”„ êµ¬ì¡°**: ì¡°ê±´ë¶€ ë¼ìš°íŒ…ìœ¼ë¡œ ë™ì  íë¦„ ì œì–´
4. **ReAct íŒ¨í„´**: Think-Act-Observe ì‚¬ì´í´
5. **ì—ëŸ¬ ì²˜ë¦¬**: ì‹¤íŒ¨í•´ë„ ê³„ì† ì§„í–‰ ê°€ëŠ¥í•œ ì„¤ê³„

---

**ì‘ì„±ì¼**: 2025-12-04
**ë²„ì „**: 0.1
**ì‘ì„±ì**: Security Analysis Agent Development Team
